{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://raw.githubusercontent.com/secondlife/lsl-definitions/refs/heads/main/lsl_definitions.schema.json",
    "$comment": "This schema defines keywords for the Linden Scripting Language (LSL) of Second Life.",
    "definitions": {
        "nonNegativeInteger": {
            "minimum": 0,
            "type": "integer"
        },
        "nonNegativeIntegerDefault0": {
            "allOf": [
                { "$ref": "#/definitions/nonNegativeInteger" },
                { "default": 0 }
            ]
        },
        "nonNegativeNumber": {
            "minimum": 0.0,
            "type": "number"
        },
        "positiveInteger": {
            "exclusiveMinimum": 0,
            "type": "integer"
        },
        "zeroToOneNumber": {
            "maximum": 1.0,
            "minimum": 0.0,
            "type": "number"
        }
    },
    "properties": {
        "constants": {
            "additionalProperties": false,
            "patternProperties": {
                "^(?:[A-Z]+[0-9]*(?:_(?:[0-9]+|[A-Z]+[0-9]*))*)$": {
                    "properties": {
                        "deprecated": {
                            "const": true,
                            "markdownDescription": "This constant has been deprecated.",
                            "type": "boolean"
                        },
                        "private": {
                            "const": true,
                            "markdownDescription": "This constant should be omitted from the generated documentation.",
                            "type": "boolean"
                        },
                        "tooltip": {
                            "markdownDescription": "A brief description of this constant.",
                            "type": "string"
                        },
                        "type": {
                            "defaultSnippets": [
                                {
                                    "label": "float",
                                    "body": "float"
                                },
                                {
                                    "label": "integer",
                                    "body": "integer"
                                },
                                {
                                    "label": "key",
                                    "body": "key"
                                },
                                {
                                    "label": "list",
                                    "body": "list"
                                },
                                {
                                    "label": "quaternion",
                                    "body": "quaternion"
                                },
                                {
                                    "label": "rotation",
                                    "body": "rotation"
                                },
                                {
                                    "label": "string",
                                    "body": "string"
                                },
                                {
                                    "label": "vector",
                                    "body": "vector"
                                }
                            ],
                            "markdownDescription": "One of the valid types for this constant: [float, integer, key, list, rotation, string, vector].",
                            "oneOf": [
                                { "const": "float" },
                                { "const": "integer" },
                                { "const": "key" },
                                { "const": "list" },
                                {
                                    "$comment": "quaternion is an alias for rotation",
                                    "const": "quaternion"
                                },
                                { "const": "rotation" },
                                { "const": "string" },
                                { "const": "vector" }
                            ]
                        },
                        "value": {
                            "markdownDescription": "The value of the constant.",
                            "type": [
                                "integer",
                                "number",
                                "string"
                            ]
                        }
                    },
                    "required": [
                        "tooltip",
                        "type",
                        "value"
                    ],
                    "type": "object"
                }
            },
            "type": "object"
        },
        "controls": {
            "additionalProperties": false,
            "patternProperties": {
                "^(?:[a-z]+)$": {
                    "properties": {
                        "tooltip": {
                            "markdownDescription": "A brief description of this control (keyword).",
                            "type": "string"
                        }
                    },
                    "required": [
                        "tooltip"
                    ],
                    "type": "object"
                }
            },
            "type": "object"
        },
        "events": {
            "properties": {
                "arguments": {
                    "items": {
                        "additionalProperties": false,
                        "patternProperties": {
                            "^(?:[a-z]+(?:_[a-z]+)*)$": {
                                "properties": {
                                    "tooltip": {
                                        "markdownDescription": "A brief description of this event argument.",
                                        "type": "string"
                                    },
                                    "type": {
                                        "defaultSnippets": [
                                            {
                                                "label": "float",
                                                "body": "float"
                                            },
                                            {
                                                "label": "integer",
                                                "body": "integer"
                                            },
                                            {
                                                "label": "key",
                                                "body": "key"
                                            },
                                            {
                                                "label": "list",
                                                "body": "list"
                                            },
                                            {
                                                "label": "quaternion",
                                                "body": "quaternion"
                                            },
                                            {
                                                "label": "rotation",
                                                "body": "rotation"
                                            },
                                            {
                                                "label": "string",
                                                "body": "string"
                                            },
                                            {
                                                "label": "vector",
                                                "body": "vector"
                                            }
                                        ],
                                        "markdownDescription": "One of the valid types for this event argument: [float, integer, key, list, rotation, string, vector].",
                                        "oneOf": [
                                            { "const": "float" },
                                            { "const": "integer" },
                                            { "const": "key" },
                                            { "const": "list" },
                                            {
                                                "$comment": "quaternion is an alias for rotation",
                                                "const": "quaternion"
                                            },
                                            { "const": "rotation" },
                                            { "const": "string" },
                                            { "const": "vector" }
                                        ]
                                    }
                                },
                                "required": [
                                    "type"
                                ],
                                "type": "object"
                            }
                        },
                        "type": "object"
                    },
                    "markdownDescription": "An array of event arguments.",
                    "minItems": 1,
                    "type": "array",
                    "uniqueItems": true
                },
                "deprecated": {
                    "const": true,
                    "markdownDescription": "This event has been deprecated.",
                    "type": "boolean"
                },
                "tooltip": {
                    "markdownDescription": "A brief description of this event.",
                    "type": "string"
                }
            },
            "required": [],
            "type": "object"
        },
        "functions": {
            "additionalProperties": false,
            "patternProperties": {
                "^ll[A-Zs](?:[A-Z0-9]*[a-z]*)+$": {
                    "additionalProperties": false,
                    "properties": {
                        "arguments": {
                            "items": {
                                "additionalProperties": false,
                                "patternProperties": {
                                    "^(?:[A-Za-z]+(?:[A-z0-9-_]+)*)$": {
                                        "properties": {
                                            "tooltip": {
                                                "markdownDescription": "A brief description of this function argument.",
                                                "type": "string"
                                            },
                                            "type": {
                                                "defaultSnippets": [
                                                    {
                                                        "label": "float",
                                                        "body": "float"
                                                    },
                                                    {
                                                        "label": "integer",
                                                        "body": "integer"
                                                    },
                                                    {
                                                        "label": "key",
                                                        "body": "key"
                                                    },
                                                    {
                                                        "label": "list",
                                                        "body": "list"
                                                    },
                                                    {
                                                        "label": "quaternion",
                                                        "body": "quaternion"
                                                    },
                                                    {
                                                        "label": "rotation",
                                                        "body": "rotation"
                                                    },
                                                    {
                                                        "label": "string",
                                                        "body": "string"
                                                    },
                                                    {
                                                        "label": "vector",
                                                        "body": "vector"
                                                    }
                                                ],
                                                "markdownDescription": "One of the valid types for this function argument:\n- float\n- integer\n- key\n- list\n- rotation\n- string\n- vector",
                                                "oneOf": [
                                                    { "const": "float" },
                                                    { "const": "integer" },
                                                    { "const": "key" },
                                                    { "const": "list" },
                                                    {
                                                        "$comment": "quaternion is an alias for rotation",
                                                        "const": "quaternion"
                                                    },
                                                    { "const": "rotation" },
                                                    { "const": "string" },
                                                    { "const": "vector" }
                                                ]
                                            }
                                        },
                                        "required": [
                                            "type"
                                        ],
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            },
                            "markdownDescription": "An array of function arguments.",
                            "type": "array",
                            "uniqueItems": true
                        },
                        "bool-semantics": {
                            "const": true,
                            "markdownDescription": "The returned integer value represents a boolean value.",
                            "type": "boolean"
                        },
                        "deprecated": {
                            "const": true,
                            "markdownDescription": "This function has been deprecated.",
                            "type": "boolean"
                        },
                        "energy": {
                            "$ref": "#/definitions/nonNegativeNumber",
                            "markdownDescription": "The script energy consumed by this function."
                        },
                        "experience": {
                            "const": true,
                            "markdownDescription": "This function requires an experience to be set for the script to compile.",
                            "type": "boolean"
                        },
                        "func-id": {
                            "$comment": "llSin has 'func-id: 0', so we must include zero",
                            "$ref": "#/definitions/nonNegativeInteger",
                            "markdownDescription": "The LSO function identifier."
                        },
                        "god-mode": {
                            "const": true,
                            "markdownDescription": "This function can only be executed in god mode.",
                            "type": "boolean"
                        },
                        "index-semantics": {
                            "const": true,
                            "markdownDescription": "The returned integer value represents a zero-based index.",
                            "type": "boolean"
                        },
                        "linden-experience": {
                            "const": true,
                            "markdownDescription": "This function requires a Linden-owned experience.",
                            "type": "boolean"
                        },
                        "mono-sleep": {
                            "$ref": "#/definitions/nonNegativeNumber",
                            "markdownDescription": "Sleep in the mono-script runtime."
                        },
                        "must-use": {
                            "const": true,
                            "markdownDescription": "This functions return value should not be discarded but further used.",
                            "type": "boolean"
                        },
                        "native": {
                            "const": true,
                            "markdownDescription": "This function must use a native implementation for non-LSO VMs.",
                            "type": "boolean"
                        },
                        "private": {
                            "const": true,
                            "markdownDescription": "This function should be omitted from the generated documentation.",
                            "type": "boolean"
                        },
                        "pure": {
                            "const": true,
                            "markdownDescription": "This function is guaranteed to have no side effects.",
                            "type": "boolean"
                        },
                        "return": {
                            "default": "void",
                            "defaultSnippets": [
                                {
                                    "label": "float",
                                    "body": "float"
                                },
                                {
                                    "label": "integer",
                                    "body": "integer"
                                },
                                {
                                    "label": "key",
                                    "body": "key"
                                },
                                {
                                    "label": "list",
                                    "body": "list"
                                },
                                {
                                    "label": "quaternion",
                                    "body": "quaternion"
                                },
                                {
                                    "label": "rotation",
                                    "body": "rotation"
                                },
                                {
                                    "label": "string",
                                    "body": "string"
                                },
                                {
                                    "label": "vector",
                                    "body": "vector"
                                },
                                {
                                    "label": "void",
                                    "body": "void"
                                }
                            ],
                            "markdownDescription": "One of the valid return types for functions:\n\n- float\n- integer\n- key\n- list\n- rotation\n- string\n- vector\n- void\n\nIf omitted, it is assumed to be void.",
                            "oneOf": [
                                { "const": "float" },
                                { "const": "integer" },
                                { "const": "key" },
                                { "const": "list" },
                                {
                                    "$comment": "quaternion is an alias for rotation",
                                    "const": "quaternion"
                                },
                                { "const": "rotation" },
                                { "const": "string" },
                                { "const": "vector" },
                                { "const": "void" }
                            ]
                        },
                        "sleep": {
                            "$ref": "#/definitions/nonNegativeNumber",
                            "markdownDescription": "Additional sleep time imposed by the script after this function completes."
                        },
                        "tooltip": {
                            "markdownDescription": "A brief description of this function.",
                            "type": "string"
                        }
                    },
                    "required": [
                        "tooltip"
                    ]
                }
            },
            "type": "object"
        },
        "llsd-lsl-syntax-version": {
            "$ref": "#/definitions/positiveInteger",
            "markdownDescription": "Only increment with file format changes."
        },
        "types": {
            "additionalProperties": false,
            "defaultSnippets": [
                {
                    "label": "float",
                    "body": "float"
                },
                {
                    "label": "integer",
                    "body": "integer"
                },
                {
                    "label": "key",
                    "body": "key"
                },
                {
                    "label": "list",
                    "body": "list"
                },
                {
                    "label": "quaternion",
                    "body": "quaternion"
                },
                {
                    "label": "rotation",
                    "body": "rotation"
                },
                {
                    "label": "string",
                    "body": "string"
                },
                {
                    "label": "vector",
                    "body": "vector"
                }
            ],
            "markdownDescription": "The valid LSL storage types:\n\n- float\n- integer\n- key\n- list\n- rotation\n- string\n- vector",
            "patternProperties": {
                "^(?:float|integer|key|list|quaternion|rotation|string|vector)$": {
                    "properties": {
                        "private": {
                            "const": true,
                            "markdownDescription": "This type should be omitted from the generated documentation.",
                            "type": "boolean"
                        },
                        "tooltip": {
                            "markdownDescription": "A brief description of this type.",
                            "type": "string"
                        }
                    },
                    "required": [
                        "tooltip"
                    ],
                    "type": "object"
                }
            },
            "type": "object"
        }
    },
    "required": [
        "constants",
        "controls",
        "events",
        "functions",
        "llsd-lsl-syntax-version",
        "types"
    ],
    "title": "Second Life LSL Definitions",
    "type": "object"
}
