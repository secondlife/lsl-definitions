{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://raw.githubusercontent.com/secondlife/lsl-definitions/refs/heads/main/lsl_definitions.schema.json",
    "$comment": "This schema defines keywords for the Linden Scripting Language (LSL) of Second Life.",
    "definitions": {
        "nonNegativeInteger": {
            "minimum": 0,
            "type": "integer"
        },
        "nonNegativeIntegerDefault0": {
            "allOf": [
                { "$ref": "#/definitions/nonNegativeInteger" },
                { "default": 0 }
            ]
        },
        "nonNegativeNumber": {
            "minimum": 0.0,
            "type": "number"
        },
        "positiveInteger": {
            "exclusiveMinimum": 0,
            "type": "integer"
        },
        "zeroToOneNumber": {
            "maximum": 1.0,
            "minimum": 0.0,
            "type": "number"
        }
    },
    "properties": {
        "constants": {
            "additionalProperties": false,
            "patternProperties": {
                "^(?:[A-Z]+[0-9]*(?:_(?:[0-9]+|[A-Z]+[0-9]*))*)$": {
                    "properties": {
                        "deprecated": {
                            "type": "boolean",
                            "const": true
                        },
                        "private": {
                            "type": "boolean",
                            "const": true
                        },
                        "tooltip": {
                            "type": "string"
                        },
                        "type": {
                            "defaultSnippets": [
                                {
                                    "label": "float",
                                    "body": "float"
                                },
                                {
                                    "label": "integer",
                                    "body": "integer"
                                },
                                {
                                    "label": "key",
                                    "body": "key"
                                },
                                {
                                    "label": "list",
                                    "body": "list"
                                },
                                {
                                    "label": "quaternion",
                                    "body": "quaternion"
                                },
                                {
                                    "label": "rotation",
                                    "body": "rotation"
                                },
                                {
                                    "label": "string",
                                    "body": "string"
                                },
                                {
                                    "label": "vector",
                                    "body": "vector"
                                }
                            ],
                            "oneOf": [
                                { "const": "float" },
                                { "const": "integer" },
                                { "const": "key" },
                                { "const": "list" },
                                {
                                    "$comment": "quaternion is an alias for rotation",
                                    "const": "quaternion"
                                },
                                { "const": "rotation" },
                                { "const": "string" },
                                { "const": "vector" }
                            ]
                        },
                        "value": {
                            "type": [
                                "integer",
                                "string"
                            ]
                        }
                    },
                    "required": [
                        "tooltip",
                        "type",
                        "value"
                    ],
                    "type": "object"
                }
            },
            "type": "object"
        },
        "controls": {
            "additionalProperties": false,
            "patternProperties": {
                "^(?:[a-z]+)$": {
                    "properties": {
                        "tooltip": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "tooltip"
                    ],
                    "type": "object"
                }
            },
            "type": "object"
        },
        "events": {
            "properties": {
                "arguments": {
                    "type": "array",
                    "items": {
                        "additionalProperties": false,
                        "patternProperties": {
                            "^(?:[a-z]+(?:_[a-z]+)*)$": {
                                "properties": {
                                    "tooltip": {
                                        "type": "string"
                                    },
                                    "type": {
                                        "defaultSnippets": [
                                            {
                                                "label": "float",
                                                "body": "float"
                                            },
                                            {
                                                "label": "integer",
                                                "body": "integer"
                                            },
                                            {
                                                "label": "key",
                                                "body": "key"
                                            },
                                            {
                                                "label": "list",
                                                "body": "list"
                                            },
                                            {
                                                "label": "quaternion",
                                                "body": "quaternion"
                                            },
                                            {
                                                "label": "rotation",
                                                "body": "rotation"
                                            },
                                            {
                                                "label": "string",
                                                "body": "string"
                                            },
                                            {
                                                "label": "vector",
                                                "body": "vector"
                                            }
                                        ],
                                        "oneOf": [
                                            { "const": "float" },
                                            { "const": "integer" },
                                            { "const": "key" },
                                            { "const": "list" },
                                            {
                                                "$comment": "quaternion is an alias for rotation",
                                                "const": "quaternion"
                                            },
                                            { "const": "rotation" },
                                            { "const": "string" },
                                            { "const": "vector" }
                                        ]
                                    }
                                },
                                "required": [
                                    "type"
                                ],
                                "type": "object"
                            }
                        },
                        "type": "object"
                    },
                    "minItems": 1,
                    "uniqueItems": true
                },
                "deprecated": {
                    "type": "boolean",
                    "const": true
                },
                "tooltip": {
                    "type": "string"
                }
            },
            "required": [],
            "type": "object"
        },
        "functions": {
            "additionalProperties": false,
            "patternProperties": {
                "^ll[A-Zs](?:[A-Z0-9]*[a-z]*)+$": {
                    "additionalProperties": false,
                    "properties": {
                        "arguments": {
                            "type": "array",
                            "items": {
                                "additionalProperties": false,
                                "patternProperties": {
                                    "^(?:[A-Za-z]+(?:[A-z0-9-_]+)*)$": {
                                        "properties": {
                                            "tooltip": {
                                                "type": "string"
                                            },
                                            "type": {
                                                "defaultSnippets": [
                                                    {
                                                        "label": "float",
                                                        "body": "float"
                                                    },
                                                    {
                                                        "label": "integer",
                                                        "body": "integer"
                                                    },
                                                    {
                                                        "label": "key",
                                                        "body": "key"
                                                    },
                                                    {
                                                        "label": "list",
                                                        "body": "list"
                                                    },
                                                    {
                                                        "label": "quaternion",
                                                        "body": "quaternion"
                                                    },
                                                    {
                                                        "label": "rotation",
                                                        "body": "rotation"
                                                    },
                                                    {
                                                        "label": "string",
                                                        "body": "string"
                                                    },
                                                    {
                                                        "label": "vector",
                                                        "body": "vector"
                                                    }
                                                ],
                                                "oneOf": [
                                                    { "const": "float" },
                                                    { "const": "integer" },
                                                    { "const": "key" },
                                                    { "const": "list" },
                                                    {
                                                        "$comment": "quaternion is an alias for rotation",
                                                        "const": "quaternion"
                                                    },
                                                    { "const": "rotation" },
                                                    { "const": "string" },
                                                    { "const": "vector" }
                                                ]
                                            }
                                        },
                                        "required": [
                                            "type"
                                        ],
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            },
                            "uniqueItems": true
                        },
                        "bool-semantics": {
                            "type": "boolean",
                            "const": true
                        },
                        "deprecated": {
                            "type": "boolean",
                            "const": true
                        },
                        "energy": {
                            "$ref": "#/definitions/nonNegativeNumber"
                        },
                        "experience": {
                            "type": "boolean",
                            "const": true
                        },
                        "func-id": {
                            "$comment": "llSin has 'func-id: 0', so we must include zero",
                            "$ref": "#/definitions/nonNegativeInteger"
                        },
                        "god-mode": {
                            "type": "boolean",
                            "const": true
                        },
                        "index-semantics": {
                            "type": "boolean",
                            "const": true
                        },
                        "linden-experience": {
                            "type": "boolean",
                            "const": true
                        },
                        "mono-sleep": {
                            "$ref": "#/definitions/nonNegativeNumber"
                        },
                        "must-use": {
                            "type": "boolean",
                            "const": true
                        },
                        "native": {
                            "type": "boolean",
                            "const": true
                        },
                        "private": {
                            "type": "boolean",
                            "const": true
                        },
                        "pure": {
                            "type": "boolean",
                            "const": true
                        },
                        "return": {
                            "default": "void",
                            "defaultSnippets": [
                                {
                                    "label": "float",
                                    "body": "float"
                                },
                                {
                                    "label": "integer",
                                    "body": "integer"
                                },
                                {
                                    "label": "key",
                                    "body": "key"
                                },
                                {
                                    "label": "list",
                                    "body": "list"
                                },
                                {
                                    "label": "quaternion",
                                    "body": "quaternion"
                                },
                                {
                                    "label": "rotation",
                                    "body": "rotation"
                                },
                                {
                                    "label": "string",
                                    "body": "string"
                                },
                                {
                                    "label": "vector",
                                    "body": "vector"
                                },
                                {
                                    "label": "void",
                                    "body": "void"
                                }
                            ],
                            "oneOf": [
                                { "const": "float" },
                                { "const": "integer" },
                                { "const": "key" },
                                { "const": "list" },
                                {
                                    "$comment": "quaternion is an alias for rotation",
                                    "const": "quaternion"
                                },
                                { "const": "rotation" },
                                { "const": "string" },
                                { "const": "vector" },
                                { "const": "void" }
                            ]
                        },
                        "sleep": {
                            "$ref": "#/definitions/nonNegativeNumber"
                        },
                        "tooltip": {
                            "type": "string"
                        },
                        "type": {
                            "defaultSnippets": [
                                {
                                    "label": "float",
                                    "body": "float"
                                },
                                {
                                    "label": "integer",
                                    "body": "integer"
                                },
                                {
                                    "label": "key",
                                    "body": "key"
                                },
                                {
                                    "label": "list",
                                    "body": "list"
                                },
                                {
                                    "label": "quaternion",
                                    "body": "quaternion"
                                },
                                {
                                    "label": "rotation",
                                    "body": "rotation"
                                },
                                {
                                    "label": "string",
                                    "body": "string"
                                },
                                {
                                    "label": "vector",
                                    "body": "vector"
                                }
                            ],
                            "oneOf": [
                                { "const": "float" },
                                { "const": "integer" },
                                { "const": "key" },
                                { "const": "list" },
                                {
                                    "$comment": "quaternion is an alias for rotation",
                                    "const": "quaternion"
                                },
                                { "const": "rotation" },
                                { "const": "string" },
                                { "const": "vector" }
                            ]
                        }
                    },
                    "required": [
                        "tooltip"
                    ]
                }
            },
            "type": "object"
        },
        "llsd-lsl-syntax-version": {
            "$ref": "#/definitions/positiveInteger"
        },
        "types": {
            "additionalProperties": false,
            "defaultSnippets": [
                {
                    "label": "float",
                    "body": "float"
                },
                {
                    "label": "integer",
                    "body": "integer"
                },
                {
                    "label": "key",
                    "body": "key"
                },
                {
                    "label": "list",
                    "body": "list"
                },
                {
                    "label": "quaternion",
                    "body": "quaternion"
                },
                {
                    "label": "rotation",
                    "body": "rotation"
                },
                {
                    "label": "string",
                    "body": "string"
                },
                {
                    "label": "vector",
                    "body": "vector"
                }
            ],
            "patternProperties": {
                "^(?:float|integer|key|list|quaternion|rotation|string|vector)$": {
                    "properties": {
                        "private": {
                            "type": "boolean",
                            "const": true
                        },
                        "tooltip": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "tooltip"
                    ],
                    "type": "object"
                }
            },
            "type": "object"
        }
    },
    "required": [
        "constants",
        "controls",
        "events",
        "functions",
        "llsd-lsl-syntax-version",
        "types"
    ],
    "title": "Second Life LSL Definitions",
    "type": "object"
}
